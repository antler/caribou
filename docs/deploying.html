<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <script type="text/javascript" src="js/shCore.js"></script>
    <script type="text/javascript" src="js/shAutoloader.js"></script>
    <script type="text/javascript" src="js/shBrushClojure.js"></script>
    <script type="text/javascript" src="js/shBrushBash.js"></script>
    <script type="text/javascript" src="js/shBrushXml.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/shCore.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/shThemeRDark.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/shClojureExtra.css" media="screen" />

    <title>Caribou Documentation</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Caribou Documentation</h1>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
<h1>Deploying Caribou</h1><h2>Ring Server (Jetty)</h2><p>Using the built-in ring server is the simplest approach.  Simply run:</p><pre>
% lein ring server
</pre><p>at the project root and your site will come to life!  To set the port you can change the options that live in your <code>project.clj</code>:</p><pre class="brush: clj">
  :ring {:handler taiga.core/handler
         :init taiga.core/init
         :port 33333}&#41;
</pre><p>Set the port to any viable port number and restart!</p><h2>Tomcat</h2><p>For Tomcat, the process is simple.</p><pre>
% lein ring uberwar
</pre><p>Once this has completed, drop the resulting jar into your running Tomcat container's webapps directory.  Voila!</p><h2>Immutant (JBoss)</h2><p>To deploy to Immutant, set up the <a href='http://github.com/immutant/lein-immutant'>lein-immutant</a> plugin and then in your Caribou project root simply type:</p><pre>
% lein immutant deploy
</pre><p>There is a generated Immutant configuration file that lives in <code>src/immutant/init.clj</code>.  Any additional Immutant configuration can be done there.  See the <a href='http://immutant.org/'>Immutant docs</a> for help.  <br /></p><h2>Beanstalk</h2><p>To deploy to Beanstalk running Tomcat, the key is to use the <a href='http://github.com/weavejester/lein-beanstalk'>lein-beanstalk</a> plugin and have the right set of values in your <code>project.clj</code>.  Here is an example configuration:</p><pre class="brush: clj">
:aws {:access-key &quot;YOUR-AWS-ACCESS-KEY&quot;
      :secret-key &quot;YOUR-AWS-SECRET-KEY&quot;
      :region &quot;us-west-1&quot;
      :beanstalk {:region &quot;us-west-1&quot;
                  :s3-region &quot;us-west-1&quot;
                  :app-name &quot;taiga&quot;
                  :s3-bucket &quot;taiga-prod&quot;
                  :environments &#91;{:name &quot;taiga-production&quot;
                                  :env {&quot;environment&quot; &quot;production&quot;}}&#93;}}
</pre><p>Then, run the <code>lein-beanstalk</code> command:</p><pre>
% lein beanstalk deploy
</pre><p>If your Beanstalk configuration with AWS is set up right, you now have a Caribou project running in the cloud somewhere!  Congratulations.</p><h2>Heroku</h2><p>Caribou by default is already set up to deploy to Heroku.  The main key is to create a git repo and set the remote heroku target:</p><ul><li>set up the git repository    % git init    % git add .    % git commit -m "init"</li><li>create the heroku remote and deploy    % heroku apps:create    % git push heroku master    % heroku ps:scale web=1</li><li>open the deployed site    % heroku open</li></ul><p>For any additional Heroku support, refer to the <a href='http://devcenter.heroku.com/articles/clojure'>Heroku docs</a>.</p><p></p>
      </section>
    </div>

  </body>
</html>

<script type="text/javascript">
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.autoloader(
    'clj clojure js/shBrushClojure.js',
    'xml html js/shBrushXml.js',
    'sh bash js/shBrushBash.js'
  );
  SyntaxHighlighter.all()
</script>
